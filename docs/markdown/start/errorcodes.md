# 错误代码

## 登录错误

| 错误代码 | 错误描述 | 解决方案 |
|---------|---------|---------|
| `%*"0` | 名字被占用 | 确认机器人账号没有在其他地方登录，检查用户名是否正确 |
| `%*"1` | 用户名不存在 | 检查配置中的 `usename` 字段，确认账号已完成注册流程 |
| `%*"2` | 密码错误 | 重新生成密码的 MD5 值，确认原始密码正确 |
| `%*"4` | 今日登录次数达到上限 | 等待至第二天再尝试登录，避免频繁重启插件 |
| `%*"5` | 房间密码错误 | 检查 `roomPassword` 配置，确认目标房间的当前密码 |
| `%*"x` | 用户被封禁 | 联系站长了解封禁原因，申请解封或申诉 |
| `%*"n0` | 房间无法进入 | 检查 `roomId` 配置是否正确，确认房间是否存在 |

## 连接错误

| 错误信息 | 错误描述 | 解决方案 |
|---------|---------|---------|
| `所有服务器都无法连接` | 无法连接到任何 IIROSE 服务器 | 检查网络连接，检查防火墙设置，等待服务器维护结束 |
| `websocket closed with [code]` | WebSocket 连接异常断开 | 检查网络稳定性，启用保活功能，调整超时设置 |
| `布豪！ !bot.socket` | WebSocket 连接对象不存在 | 重启插件，检查网络连接，联系开发者 |
| `布豪！ bot.socket.readyState == 0` | WebSocket 连接状态异常 | 等待连接建立完成，重启插件 |

## WebSocket 关闭代码

| 代码 | 描述 | 处理方式 |
|-----|------|---------|
| `1000` | 正常关闭 | 无需处理 |
| `1001` | 端点离开 | 检查连接状态 |
| `1002` | 协议错误 | 检查协议版本 |
| `1003` | 不支持的数据类型 | 检查数据格式 |
| `1006` | 异常关闭 | 检查网络连接 |
| `1011` | 服务器错误 | 等待服务器恢复 |

## 功能错误

| 错误类型 | 错误描述 | 解决方案 |
|---------|---------|---------|
| FileManager 插件未安装 | 缺少必需的 filemanager 插件 | 安装 `koishi-plugin-filemanager` 并启动 |
| 图片发送失败 | 图片消息发送失败 | 检查 filemanager 插件状态，确认图片格式和大小 |
| 调试模式日志刷屏 | 开启 `debugMode` 后日志过多 | 仅在需要时开启，生产环境建议关闭 |

---

:::tip 获取帮助
如果遇到其他错误，请加入 QQ 群 **1059933235** 或在 [GitHub](https://github.com/BSTluo/koishi-plugin-adapter-iirose/issues) 提交问题。
:::
